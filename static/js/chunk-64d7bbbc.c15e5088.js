(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64d7bbbc"],{"076b":function(t,e,n){"use strict";n.r(e);n("a9e3");var c=n("7a23"),a=Object(c["S"])("data-v-a228e9c8");Object(c["D"])("data-v-a228e9c8");var r={class:"container bg-container"},s={class:"list"},i={class:"item flex-middle"},o={class:"flex-item"},d={class:"flex row"},u={class:"label"},l={class:"flex-item cont"},b={class:"flex row"},f={class:"label"},j={class:"flex-item cont"},v={key:1,class:"num c-2FBBA1"};Object(c["B"])();var O=a((function(t,e,n,a,O,w){var m=Object(c["H"])("van-nav-bar");return Object(c["A"])(),Object(c["h"])("div",r,[Object(c["k"])(m,{"left-arrow":"",title:t.$t("list.矿池分红记录"),onClickLeft:t.$goBack},null,8,["title","onClickLeft"]),Object(c["k"])("div",s,[(Object(c["A"])(!0),Object(c["h"])(c["a"],null,Object(c["G"])(t.records,(function(e){return Object(c["A"])(),Object(c["h"])("div",i,[Object(c["k"])("div",o,[Object(c["k"])("div",d,[Object(c["k"])("div",u,Object(c["L"])(t.$t("list.结算周期"))+"：",1),Object(c["k"])("div",l,Object(c["L"])(e.dayNum),1)]),Object(c["k"])("div",b,[Object(c["k"])("div",f,Object(c["L"])(t.$t("list.分红数量"))+"：",1),Object(c["k"])("div",j,Object(c["L"])(e.amount)+" BNX Token",1)])]),!e.isGive&&Number(e.amount)?(Object(c["A"])(),Object(c["h"])("div",{key:0,class:"btn",onClick:function(n){return t.getDividends(e.dayNum)}},Object(c["L"])(t.$t("list.领取")),9,["onClick"])):(Object(c["A"])(),Object(c["h"])("div",v,Object(c["L"])(t.$t("list.已领取")),1))])})),256))])])})),w=n("5530"),m=n("1da1"),k=(n("96cf"),n("fb6a"),n("b680"),n("d9d1")),C=n("722f"),h=n("01ea"),p=n("5502"),B=n("901e"),x=n.n(B),g=n("fb9e"),D={setup:function(){var t=Object(p["b"])(),e=Object(c["E"])({records:[],address:Object(c["f"])((function(){return t.state.accounts[0]})),web3:Object(c["f"])((function(){return t.state.provider})),BsnContract:null,BusdContract:null,freezeContract:null,windTokenContract:null,BsnDataContract:null,initContract:function(){e.BsnContract=new e.web3.eth.Contract(k,h["a"].BsnAddress),e.BusdContract=new e.web3.eth.Contract(C,h["a"].BusdAddress),e.BsnDataContract=new e.web3.eth.Contract(g,h["a"].BsnDataAddress),e.windTokenContract=new e.web3.eth.Contract(C,h["a"].windToken),e.initData()},initData:function(){e.getList()},getList:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var n,c,a,r,s,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.BsnDataContract.methods.getCurDayNum().call();case 3:return c=t.sent,t.next=6,e.windTokenContract.methods.decimals().call();case 6:a=t.sent,r=1;case 8:if(!(r<c)){t.next=21;break}return t.next=11,e.BsnContract.methods.getDividends(r).call({from:e.address});case 11:return s=t.sent,t.next=15,e.BsnDataContract.methods.isDividend(e.address,r).call({from:e.address});case 15:i=t.sent,o={amount:new x.a(s).dividedBy(Math.pow(10,a)).toFixed(5).slice(0,-1),isGive:i,dayNum:r},n.push(o);case 18:r++,t.next=8;break;case 21:e.records=n;case 23:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),getDividends:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(n){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.web3.eth.getGasPrice();case 2:return c=t.sent,t.next=5,e.BsnContract.methods.receiveDividends(n).send({from:e.address,gasPrice:c});case 5:e.getList();case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()});e.address&&e.initContract(),Object(c["P"])((function(){return e.address}),(function(t){t&&e.initContract()}));var n=Object(c["M"])(e);return Object(w["a"])({},n)}},L=(n("7cf2"),n("d959")),y=n.n(L);const A=y()(D,[["render",O],["__scopeId","data-v-a228e9c8"]]);e["default"]=A},"7cf2":function(t,e,n){"use strict";n("9342")},9342:function(t,e,n){}}]);
//# sourceMappingURL=chunk-64d7bbbc.c15e5088.js.map