(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df3fe8ac"],{1317:function(t,e,n){"use strict";n("55b6")},"38cf":function(t,e,n){var c=n("23e7"),r=n("1148");c({target:"String",proto:!0},{repeat:r})},"55b6":function(t,e,n){},e70f:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),r=Object(c["S"])("data-v-20dd8050");Object(c["D"])("data-v-20dd8050");var a={class:"container"},o={class:"list"},s={class:"item"},i={class:"flex"},u={class:"flex-item"},d={class:"c-FBC509"},b={class:"c-FBC509"};Object(c["B"])();var l=r((function(t,e,n,r,l,f){var m=Object(c["H"])("van-nav-bar");return Object(c["A"])(),Object(c["h"])("div",a,[Object(c["k"])(m,{"left-arrow":"",title:t.$t("income.用户盈利信息"),onClickLeft:t.$goBack},null,8,["title","onClickLeft"]),Object(c["k"])("div",o,[(Object(c["A"])(!0),Object(c["h"])(c["a"],null,Object(c["G"])(t.records,(function(e){return Object(c["A"])(),Object(c["h"])("div",s,[Object(c["k"])("div",i,[Object(c["k"])("div",u,Object(c["L"])(t.$t("income.恭喜"))+Object(c["L"])(e.investor),1)]),Object(c["k"])("div",null,[Object(c["j"])(Object(c["L"])(t.$t("income.获得")),1),Object(c["k"])("span",d,Object(c["L"])(e.windIncome)+"BNX token",1),Object(c["j"])(Object(c["L"])(t.$t("income.和")),1),Object(c["k"])("span",b,Object(c["L"])(e.income)+"BUSD",1)])])})),256))])])})),f=n("5530"),m=n("1da1"),O=(n("96cf"),n("159b"),n("a9e3"),n("fb6a"),n("b680"),n("38cf"),n("d9d1")),j=n("722f"),w=n("fb9e"),p=n("01ea"),v=n("5502"),h={setup:function(){var t=Object(v["b"])(),e=Object(c["E"])({records:[],address:Object(c["f"])((function(){return t.state.accounts[0]})),web3:Object(c["f"])((function(){return t.state.provider})),BsnContract:null,BusdContract:null,windTokenContract:null,BsnDataContract:null,initContract:function(){e.BsnContract=new e.web3.eth.Contract(O,p["a"].BsnAddress),e.BusdContract=new e.web3.eth.Contract(j,p["a"].BusdAddress),e.BsnDataContract=new e.web3.eth.Contract(w,p["a"].BsnDataAddress),e.windTokenContract=new e.web3.eth.Contract(j,p["a"].windToken),e.initData()},initData:function(){e.getList()},getList:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var n,c,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.BsnDataContract.methods.getAllrecord().call();case 2:return n=t.sent,t.next=5,e.web3.eth.getBlockNumber();case 5:return c=t.sent,t.next=8,e.BusdContract.methods.decimals().call();case 8:return r=t.sent,t.next=11,e.windTokenContract.methods.decimals().call();case 11:a=t.sent,n.forEach(function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(n){var o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.BsnDataContract.methods.getOrderById(n).call();case 2:return o=t.sent,t.next=5,e.BsnContract.methods.getBlockPrice(o.openBlock).call();case 5:return s=t.sent,t.next=8,e.BsnContract.methods.getWin(n).call();case 8:i=t.sent,s>0&&c>=o.openBlock&&!o.isOpen&&(o.canOpen=!0),s>0&&c>=o.openBlock&&(Number(i.back)>0?(o.income=Number((i.back-o.investAmount)/Math.pow(10,r)).toFixed(5).slice(0,-1),o.windIncome=Number(i.winTokenAmount/Math.pow(10,a)).toFixed(5).slice(0,-1),o.isWin=!0):(o.income=Number(i.back/Math.pow(10,a)).toFixed(5).slice(0,-1),o.windIncome=Number(i.winTokenAmount/Math.pow(10,a)).toFixed(5).slice(0,-1),o.isWin=!1)),s<=0&&(o.canOpen=!1),o.investor=o.investor.substr(0,4)+"*".repeat(4)+o.investor.substr(o.investor.length-4,o.investor.length-1),o.id=n,o.openPrice=s,o.investAmount=Number(o.investAmount/Math.pow(10,r)).toFixed(5).slice(0,-1),o.isWin&&Number(o.income)&&e.records.unshift(o);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 13:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()});e.address&&e.initContract(),Object(c["P"])((function(){return e.address}),(function(t){t&&e.initContract()}));var n=Object(c["M"])(e);return Object(f["a"])({},n)}},k=(n("1317"),n("d959")),B=n.n(k);const C=B()(h,[["render",l],["__scopeId","data-v-20dd8050"]]);e["default"]=C}}]);
//# sourceMappingURL=chunk-df3fe8ac.36c179e1.js.map